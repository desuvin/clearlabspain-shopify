{{ 'custom-checkout.css' | asset_url | stylesheet_tag }}
{{ 'custom-radio-button.css' | asset_url | stylesheet_tag }}

<script src="{{ 'province.js' | asset_url }}" defer></script>
<script src="{{ 'custom-checkout.js' | asset_url }}" defer></script>
<div class="page-width customer addresses" data-customer-addresses>
  <div class="d-flex">
    <div class="col-flex">
      <div class="account-container">
        <span>Account</span>
        {%- if customer -%}
          <p>{{ customer.email }}</p>
        {% endif %}
      </div>
      <div class="ship-to-container">
        {{ assign locale_country = '' }}
        <!-- Realizar pedido -->
        {{ assign checkout_button_text = '' }}
        {% if shop.locale == "es" %}
          {% assign locale_country = 'Espa√±a' %}
          {% assign checkout_button_text = 'Realizar Pedido' %}
        {% else if shop.locale == "en" %}
          {% assign locale_country = 'Spain' %}
          {% assign checkout_button_text = 'Place Order' %}
        {% endif %}

      <div class="address-selection">
        <h2>Ship to</h2>
        {% for address in customer.addresses %}
          {%- if address.country != locale_country -%}
            {% continue %}
          {% endif %}
          <div class="address-option {% if forloop.first %}selected {% endif %}">
            <input type="radio" id="address-{{ forloop.index }}" name="address" {% if forloop.first %}checked{% endif %}>
            <label for="address{{ forloop.index }}">
              <strong>{{ address.name }}, 
              <span id="address-address1-{{ forloop.index }}">{{ address.address1 }}</span>, 
              <span id="address-street-{{ forloop.index }}">{{ address.street }}</span></strong><br>
              <span id="address-city-{{ forloop.index }}">{{ address.city }}</span>, 
              <span id="address-province-{{ forloop.index }}">{{ address.province }}</span>,
              <span id="address-zip-{{ forloop.index }}">{{ address.zip }}</span>, 
              <span id="address-country-{{ forloop.index }}">{{ address.country_code | upcase }}</span>

              <!-- {{ address.url }} -->
              
              <span id="address-firstname-{{ forloop.index }}" style="display:none;">{{ address.first_name }}</span>
              <span id="address-lastname-{{ forloop.index }}" style="display:none;">{{ address.last_name }}</span>
              
            </label>
          </div>
          {% endfor %}
          <div class="use-different-address">
            <a href="#" class="display-show-trigger" data-container-target="container-new-address">Use a different address</a>
          </div>
      </div>

        <button id="btnCheckout">{{ checkout_button_text }}</button>
        
        <!-- <p>Use a different address</p> -->
        
        <div id="container-new-address">
          {% form 'customer_address', customer.new_address %}
            <!-- form content -->
            <div class="field">
              <input
                type="text"
                id="AddressFirstNameNew"
                name="address[first_name]"
                value="{{ form.first_name }}"
                autocomplete="given-name"
                placeholder="{{ 'customer.addresses.first_name' | t }}"
              >
              <label for="AddressFirstNameNew">{{ 'customer.addresses.first_name' | t }}</label>
            </div>
            <div class="field">
              <input
                type="text"
                id="AddressLastNameNew"
                name="address[last_name]"
                value="{{ form.last_name }}"
                autocomplete="family-name"
                placeholder="{{ 'customer.addresses.last_name' | t }}"
              >
              <label for="AddressLastNameNew">{{ 'customer.addresses.last_name' | t }}</label>
            </div>
            <div class="field">
              <input
                type="text"
                id="AddressCompanyNew"
                name="address[company]"
                value="{{ form.company }}"
                autocomplete="organization"
                placeholder="{{ 'customer.addresses.company' | t }}"
              >
              <label for="AddressCompanyNew">{{ 'customer.addresses.company' | t }}</label>
            </div>
            <div class="field">
              <input
                type="text"
                id="AddressAddress1New"
                name="address[address1]"
                value="{{ form.address1 }}"
                autocomplete="address-line1"
                placeholder="{{ 'customer.addresses.address1' | t }}"
              >
              <label for="AddressAddress1New">{{ 'customer.addresses.address1' | t }}</label>
            </div>
            <div class="field">
              <input
                type="text"
                id="AddressAddress2New"
                name="address[address2]"
                value="{{ form.address2 }}"
                autocomplete="address-line2"
                placeholder="{{ 'customer.addresses.address2' | t }}"
              >
              <label for="AddressAddress2New">{{ 'customer.addresses.address2' | t }}</label>
            </div>
            <div class="field">
              <input
                type="text"
                id="AddressCityNew"
                name="address[city]"
                value="{{ form.city }}"
                autocomplete="address-level2"
                placeholder="{{ 'customer.addresses.city' | t }}"
              >
              <label for="AddressCityNew">{{ 'customer.addresses.city' | t }}</label>
            </div>
            <div>
              <label for="AddressCountryNew">{{ 'customer.addresses.country' | t }}</label>
              <div class="select">
                <select
                  id="AddressCountryNew"
                  name="address[country]"
                  data-default="{{ form.country }}"
                  autocomplete="country"
                >
                  {{ country_option_tags }}
                </select>
                <svg aria-hidden="true" focusable="false" viewBox="0 0 10 6">
                  <use href="#icon-caret" />
                </svg>
              </div>
            </div>
            <div id="AddressProvinceContainerNew" style="display: none">
              <label for="AddressProvinceNew">{{ 'customer.addresses.province' | t }}</label>
              <div class="select">
                <select
                  id="AddressProvinceNew"
                  name="address[province]"
                  data-default="{{ form.province }}"
                  autocomplete="address-level1"
                ></select>
                <svg aria-hidden="true" focusable="false" viewBox="0 0 10 6">
                  <use href="#icon-caret" />
                </svg>
              </div>
            </div>
            <div class="field">
              <input
                type="text"
                id="AddressZipNew"
                name="address[zip]"
                value="{{ form.zip }}"
                autocapitalize="characters"
                autocomplete="postal-code"
                placeholder="{{ 'customer.addresses.zip' | t }}"
              >
              <label for="AddressZipNew">{{ 'customer.addresses.zip' | t }}</label>
            </div>
            <div class="field">
              <input
                type="tel"
                id="AddressPhoneNew"
                name="address[phone]"
                value="{{ form.phone }}"
                autocomplete="tel"
                placeholder="{{ 'customer.addresses.phone' | t }}"
              >
              <label for="AddressPhoneNew">{{ 'customer.addresses.phone' | t }}</label>
            </div>
            <div style="display:none;">
              {{ form.set_as_default_checkbox }}
              <label for="address_default_address_new">{{ 'customer.addresses.set_default' | t }}</label>
            </div>
            <div class="mt-10">
              <button>{{ 'customer.addresses.add' | t }}</button>
              <button type="reset" class="display-hide-trigger" data-container-target="container-new-address">{{ 'customer.addresses.cancel' | t }}</button>
            </div>
          {% endform %}
        </div>
        
      </div>
      
    </div>
    <div class="col-flex">
      col 2
    </div>
  </div>
</div>
